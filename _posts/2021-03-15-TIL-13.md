---
layout: post
title:  "Mar 15, 2021, TIL (Today I Learned) - Notification Center, iOS"
summary: "iOS ì»¤ë¦¬ì–´ ìŠ¤íƒ€í„° ìº í”„ 2ê¸°"
author: inwoodev
date: '2021-03-15 22:35:23 +0530'
category: SwiftProgramming
thumbnail: /assets/img/posts/light-bulbs.jpg
keywords: ios, swift, NotificationCamper, startercamp, day13
permalink: /blog/TIL(Today I Learned)/13
usemathjax: true
---

## ìˆ˜ì—… ë‚´ìš©

#### ì•¼ê³°ì˜ ~~ì”ì†Œë¦¬ê°€~~ ì•„ë‹Œ ë³´ì•½ ì†Œë¦¬ 

---

**ì½”ë“œì— ë¬¸ì„œë¥¼ ë‚¨ê¸°ëŠ” ê²ƒì„ ì§€ì–‘í•˜ì.**

1. ì½”ë“œë§Œìœ¼ë¡œ ì´í•´í•  ìˆ˜ ìˆê²Œ ì½”ë“œë¥¼ ì§œëŠ”ê²Œ ë‚«ë‹¤.
2. ì¶”í›„ì— ì½”ë“œë¥¼ ì—…ë°ì´íŠ¸ í•˜ì§€ ì•Šì„ ê²½ìš°ì—ë§Œ ì£¼ì„ì„ ë‚¨ê¸°ëŠ” ê²ƒì´ ì¢‹ë‹¤.
   - ë‚˜ì¤‘ì— ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ ë°”ë¹ ì„œ ì£¼ì„ì„ ë¹¼ë¨¹ê³  ì—…ë°ì´íŠ¸ ì•ˆí•  ê°€ëŠ¥ì„±ì´ ë†’ê¸°ì—



#### êµ¬ì¡°ì²´ì™€ í´ë˜ìŠ¤ì˜ ì°¨ì´

---

```swift
struct Person {
  var name: String
  var don: Int
  
  init(name: String, don: Int) {
    self.name = name
    self.don = don
  } 
// êµ¬ì¡°ì²´ëŠ” initì´ ìƒëµë˜ì–´ë„ ëœë‹¤. Memberwise initializerë¥¼ ì§€ì› í•´ ì£¼ê¸° ë•Œë¬¸ì—!
// í´ë˜ìŠ¤ëŠ” initì´ ë¬´ì¡°ê±´ ìˆì–´ì•¼ í•œë‹¤.

var yagom = Person(name: "ì•¼ê³°", don: 0)
```

ğŸ™‹**ì´ë‹ˆì…œë¼ì´ì €ëŠ” ì™œ ìˆì–´ì•¼ í•˜ëŠ”ê°€?**

*"ì˜µì…”ë„ ê°™ì€ ê²½ìš° ê°’ì´ ì—†ì„ ìˆ˜ ìˆìŒì„ ëœ»í•œë‹¤. ë°˜ëŒ€ë¡œ ì˜µì…”ë„ì´ ì•„ë‹ˆë‹¤ëŠ” ê°’ì´ ë¬´ì¡°ê±´ ìˆìŒì„ ì‹œì‚¬í•œë‹¤ ë˜ëŠ” nilì´ ë¬´ì¡°ê±´ ì•„ë‹ˆë‹¤ë¥¼ ëœ»í•œë‹¤. ê·¸ ì–´ë–¤ ê²ƒì´ë“  ê°’ì´ ìˆìŒì„ ë³´ì¥ í•´ ì£¼ì–´ì•¼ í•œë‹¤. ê·¸ë˜ì„œ ì´ëŸ° ë§¥ë½ì—ì„œ initializerëŠ” í•´ë‹¹ í”„ë¡œí¼í‹°ì˜ ê°’ì„ ì±„ì›Œì£¼ëŠ” ì—­í• ì„ í•œë‹¤."*

**Optional ì™¸ ëª¨ë“  í”„ë¡œí¼í‹°ì˜ ê°’ì„ ì±„ì›Œì£¼ëŠ” ì—­í• ì„ í•˜ëŠ” ê²ƒì´ initializerì˜ ì˜ë¬´ì´ë‹¤.**

ë”°ë¼ì„œ í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œ ì•„ì˜ˆ default ì´ˆê¹ƒê°’ì„ ì£¼ê±°ë‚˜ init()ì„ í™œìš©í•˜ì—¬ ëª¨ë“  í”„ë¡œí¼í‹° ê°’ì„ ì±„ì›Œì¤˜ì•¼ í•œë‹¤.



**ê·¸ëŸ¼ ì™œ structì—ë§Œ ë©¤ë²„ì™€ì´ì¦ˆì´ë‹ˆì…œë¼ì´ì €ê°€ ì§€ì›ë˜ëŠ”ê°€?**

ìì„¸í•œ ë‚´ìš©ì€ ì•„ë˜ ë§í¬ì—ì„œ í™•ì¸í•˜ì

[Why donâ€™t Swift classes have a memberwise initializer? - a free Understanding Swift tutorial (hackingwithswift.com)](https://www.hackingwithswift.com/quick-start/understanding-swift/why-dont-swift-classes-have-a-memberwise-initializer)



### Notification Center

---

ì¸ìŠ¤í„´ìŠ¤ ì‚¬ì´ì˜ í†µì‹ [ë©”ì‹œì§€ ì „ë‹¬] í•˜ëŠ” ë°©ë²• ì¤‘ í•˜ë‚˜

Notification Center â†’ Notification 

1. ì‚¬ìš©ìê°€ ì…€ëŸ½ì„ íŒ”ë¡œìš° [ ì¸ìŠ¤íƒ€ê·¸ë¨ ì„œë²„]
2. ì…€ëŸ½ì´ ë¼ì´ë¸Œë°©ì†¡ì„ í•  ë•Œ
3. í•´ë‹¹ ì…€ëŸ½ì„ íŒ”ë¡œìš°í•˜ëŠ” íŒ”ë¡œì›Œì—ê²Œ ì•Œë¦¼[Notification] ë°œì†¡ â†’ ì…€ëŸ½ ë°©ì†¡í•œë‹¤!!!



@objc ë¥¼ ë¶™ì´ëŠ” ì´ìœ  â†“

[ios - When to use @objc in Swift? - Stack Overflow](https://stackoverflow.com/questions/30795117/when-to-use-objc-in-swift)

```swift
class Stocker {
  let name: String
  init(name: String) {
    self.name = name
  }
	// !!ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì€ Notificationíƒ€ì…ì´ì–´ì•¼ í•œë‹¤!!
  @objc func follow(notification: Notification) {
    print("ë”°ë¼ê°€ìš” \(her)ë¥¼"
    
    if let userInfo = notification.userInfo {
      print("ë¶€ê°€ì„¤ëª…: " + userInfo.description)
    }
    
    NotificationCenter.default.removeObserver(self)
    // ìœ„ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ê²½ìš° ë” ì´ìƒ ì•Œë¦¼ì„ ë°›ì§€ ì•ŠëŠ”ë‹¤.
  }
}

let ian = Stocker(name: "ì´ì•ˆ")
let steven = Stocker(name: "ìŠ¤í‹°ë¸")
let ryan = Stocker(name: "ë¼ì´ì–¸")

// ì•Œë¦¼ ì¢…ë¥˜ë³„ static property
enum CelebNotification {
  static let didRanOutHome = NSNotification.init("didCelebRanOutHome")
  static let willReturnHome = NSNotification.Name.init("willCelebReturnHome")
}

// ì•„ë˜ëŠ” notification ë“±ë¡ê³¼ì •
NotificationCenter.default.addObserver(ian, selector: #selector(Stocker.follow(notification:)), name: CelebNotification.didRanOutHome, object: nil)

NotificationCenter.default.addObserver(ian, selector: #selector(Stocker.follow(notification:)), name: CelebNotification.didRanOutHome. object: nil)
  
NotificationCenter.default.addObserver(ian, selector: #selector(Stocker.follow(notification:)), name: CelebNotification.didRanOutHome. object: nil)
// ì…€ëŸ½ì´ ë‚˜ê°„ë‹¤ë¼ëŠ” í–‰ìœ„ë¥¼ ì´ ìŠ¤í† ì»¤ë“¤ì€ êµ¬ë…í•˜ëŠ” ê²ƒê³¼ ê°™ë‹¤.
// ì…€ëŸ½ì´ ë‚˜ê°ˆ ê²½ìš° ì¸ìŠ¤íƒ€ ì•Œë¦¼ì„ ë°›ë“¯ì´ ìœ„ ìŠ¤í† ì»¤ë“¤ì—ê²Œ ì•ŒëŒì´ ê°„ë‹¤.

// ì…€ëŸ½ì´ ë‚˜ê°”ë‹¤ë¼ê³  ë°©ì†¡ ì•Œë¦¼!!
Notification.default.post(name: name, object: nil)

Notification.default.post(name: name, object: nil, userInfo: ["name": "celeb", "address": "seoul", "time": "2021-03-03"] )
// ì•Œë¦¼ì„ ë³´ë‚¼ ë•Œ ì•Œë¦´ ë‚´ìš©ì„ Dictionaryí˜•íƒœë¡œ ê°™ì´ ë³´ë‚¼ ìˆ˜ ìˆë‹¤. ì•Œë¦¼ì— ì ì„ ë‚´ìš©ì„ ë””í…Œì¼í•˜ê²Œ ì ì„ ìˆ˜ ìˆë‹¤. ì´ ê²½ìš° ë‘ ë²ˆì§¸ ì•Œë¦¼ì—ë§Œ í•´ë‹¹ ë¶€ê°€ì •ë³´ê°€ ë”í•´ì§„ë‹¤.
```

ì–´ë–¤ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆëŠ”ì§€ ì•Œë¦¼ì„ ë°›ëŠ” ê²ƒì´ notification centerì´ë‹¤.

1ëŒ€1 í†µì‹ ì´ ì•„ë‹ˆë¼ ì—¬ëŸ¬ ì‚¬ëŒì—ê²Œ í•´ë‹¹ ì•Œë¦¼ì„ ë³´ë‚´ì•¼í•  ê²½ìš° notification centerë¥¼ ì‚¬ìš©í•œë‹¤.



#### ëŠ¥ë™ì  ì•Œë¦¼ë°©ì‹

```swift
import Foundation

class Idol: NSObject {
    var name: String
    @objc var don: Int
    
    init(name: String, don: Int) {
        self.name = name
        self.don = don
    }
}

class Fan: NSObject {
    var name: String
    
    init(name: String) {
        self.name = name
    }
    
    override func observeValue(forKeyPath keyPath: String?, of object: Any?, change: [NSKeyValueChangeKey : Any]?, context: UnsafeMutableRawPointer?) {
        print(change)
    }
}

let pengsu = Idol(name: "í­ìˆ˜", don: 1000000)
let summer = Fan(name: "ì¸ë¨¸")

/// Key-Value-Observing

// ì•„ë˜ì½”ë“œ ìˆ˜ì •í•„ìš”
pengsu.observe(\.don, options:[NSKeyValueObservingOptions.new, NSKeyValueObservingOptions.old, NSKeyValueObservingOptions.initial]) { (idol, value) in
    print(idol)
    print(value)
}

pengsu.addObserver(summer, forKeyPath: "don", options: [NSKeyValueObservingOptions.new], context: nil)
// í­ìˆ˜ì˜ ëˆì´ ì–´ë–»ê²Œ ë°”ë€ŒëŠ”ì§€ ì§€ì¼œë³¸ë‹¤.
// ì²« notificationê°™ì€ ê²½ìš° ì•Œë¦¼ì„ postí•´ì£¼ëŠ” notification centerê°€ í•„ìš”í•˜ë‹¤.
//ê·¸ëŸ¬ë‚˜ key-value observing ê°™ì€ ê²½ìš°...
// ì²« notificationê³¼ ë‹¬ë¦¬ ëˆì˜ íë¦„ì„ íŒŒì•…í•  ìˆ˜ ìˆê²Œ ëœë‹¤.
// ì²« notificationì€ ì¤‘ê°„ë§¤ê°œì²´ì¸ notification centerê°€ í•„ìš”í•˜ë‹¤. ê·¸ëŸ¬ë‚˜ í›„ì notificationì€ ê·¸ëŸ° ì¤‘ê°„ ë§¤ê°œì²´ê°€ í•„ìš”ì—†ì´ ì¶”ì í•  ìˆ˜ ìˆë‹¤.
```



## í•™ìŠµë‚´ìš©

#### iOS ì•±ê°œë°œ ê¸°ì´ˆ

---

**@IBOutletì´ë€?**

ì¸í„°í˜ì´ìŠ¤ ë¹Œë”ì— ì˜¬ë¼ì™€ ìˆëŠ” UIìš”ì†Œì˜ ê°’ì„ ê°€ì ¸ì˜¤ê³  ì½”ë“œì— í™œìš©í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒ

**@IBActionì´ë€?**

ì¸í„°í˜ì´ìŠ¤ ë¹Œë”ì— ì˜¬ë¼ì™€ ìˆëŠ” ìš”ì†Œì˜ ì´ë²¤íŠ¸ë¥¼ ë°›ì•˜ì„ ë•Œ ê·¸ê²ƒì— ë°˜ì‘í•˜ê¸° ìœ„í•´ actionì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ê²ƒ



**ì´ë²¤íŠ¸ ê¸°ë°˜ í”„ë¡œê·¸ë˜ë°ì´ë€? [Event Driven Programming]**

"A category of programming in which the flow of the app is determined by events: system events and user actions"

íŠ¹ì •í•œ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ íŠ¹ì • ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê² ë‹¤ ì •í•´ ë†“ê³  í”„ë¡œê·¸ë˜ë° í•˜ëŠ” ê²ƒì´ ì´ë²¤íŠ¸ ê¸°ë°˜ í”„ë¡œê·¸ë˜ë°!



**Auto Layoutì´ë€?**

"A layout engine that helps lay out user interface (UI) based on the constraints you specify"



Sliderì˜ íŠ¹ì§•

Sliderì˜ value ê°’ì€ í•­ìƒ floatë§Œì„ ì²˜ë¦¬í•˜ë„ë¡ ì„¤ê³„ë˜ì–´ ìˆë‹¤. ë”°ë¼ì„œ Sliderê°’ì„ í• ë‹¹í•˜ë ¤ë©´ float typeìœ¼ë¡œ ì •ìˆ˜ë¥¼ ê°€ê³µì‹œì¼œì¤˜ì•¼ í•œë‹¤.

